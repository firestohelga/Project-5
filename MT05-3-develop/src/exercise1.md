# Аббревиатуры

## Multi Page Application (MPA)

Многостраничные приложения имеют более классическую архитектуру. Каждая страница отправляет запрос на сервер и полностью обновляет все данные. Даже если эти данные небольшие. Таким образом тратится производительность на отображение одних и тех же элементов. Соответственно это влияет на скорость и производительность.

Многие разработчики, для того чтобы повысить скорость и уменьшить нагрузку, используют JavaScript/jQuery. Хороший пример, обновление товаров без перезагрузки страницы, при использования фильтров в интернет магазине. Это намного удобней и главное быстрее. Главные преимущества Multi Page Application (MPA):

### Преимущества MPA

Легкая SEO оптимизация. Архитектура MPA позволяет достаточно легко оптимизировать каждую страницу под поисковые системы.
Легкая разработка. Как правило для разработки многостраничного приложения требуется меньший стек технологий.
Множество решений.
Используя MPA вы можете найти подходящее коробочное решение. Например использовать Magento, OpenCart для разработки e-commerce веб приложения или Dolphin, Elgg для разработки социальных сетей. Недостатки MPA:

### Недостатки MPA

Для разработки мобильных приложений потребуется намного больше времени. В большинстве случаев потребуется написание back-end с нуля.
Сложно разделить front-end и back-end. Как правило они очень тесно взаимодействуют друг с другом. Усложняется работа front-end и back-end разработчиков.
Основным преимуществом МПА является хорошая SEO оптимизация и огромные количество коробочных решений.

### Тестирование MPA

Для тестирования MPA-приложений (приложений, которые используют множество страниц) можно использовать следующие методы:

1. Тестирование функциональности каждой страницы: проверка работоспособности каждой страницы приложения, включая все элементы управления и функции, которые должны быть доступны на этой странице.

2. Тестирование навигации между страницами: проверка того, что пользователь может переходить между страницами приложения и что все ссылки и кнопки работают правильно.

3. Тестирование совместимости браузеров: проверка того, что приложение работает корректно на разных браузерах и версиях браузеров.

4. Тестирование производительности: проверка скорости загрузки каждой страницы приложения и общей производительности приложения при использовании.

5. Тестирование безопасности: проверка наличия уязвимостей в приложении, таких как возможность инъекции SQL или XSS-атаки.

6. Тестирование мобильной совместимости: проверка того, что приложение работает корректно на мобильных устройствах и что все элементы управления доступны на маленьких экранах.

Для автоматизации тестирования MPA-приложений можно использовать инструменты, такие как Selenium, TestComplete или Appium.

## Single Page Application (SPA)

Одностраничные приложения позволяют имитировать работу десктоп приложений. Архитектура устроена таким образом, что при переходе на новую страницу, обновляется только часть контента. Таким образом, нет необходимости повторно загружать одни и те же элементы. Это очень удобно для разработчиков и пользователей. Для разработки SPA используется один из самых популярных языков программирования - javascript. Небольшое веб приложение можно сделать с библиотекой jQuery. Вне зависимости какую структуру будущего веб-приложения Вы выберете, уделите внимание графике и пользовательскому интерфейсу.
Но, сразу стоит отметить, что jQuery очень плохо подходит для разработки крупных проектов. Для этих целей хорошо подойдет React.js, Angular.js, Vue.js и другие frontend фреймворки/библиотеки. Их архитектура позволяет разрабатывать гибкие веб приложения. Более того на базе фреймворков можно строить мобильные приложения с повторным использованием кода. Такие возможности дает React Native и Ionic. Основные преимущества Single Page Application:

### Преимущества SPA

Производительность. Так как SPA не обновляет всю страницу, а только нужную часть, это существенно повышает скорость работы.
Высокая скорость разработки. Готовые библиотеки и фреймворки дают мощные инструменты для разработки веб приложений. Над проектом могут параллельно работать back-end и front-end разработчики. Благодаря четкому разделение они не будут мешать друг другу.
Мобильные приложения. SPA позволяет легко разработать мобильное приложение на основе готового кода.
При всех своих достоинствах, Single Page Application имеет некоторые недостатки, которые сдерживают рост популярности:

### Недостатки SPA

Плохая SEO оптимизация. SPA работает на основе javascript и загружает информацию по запросу со стороны клиента. Поисковые системы с трудом могут имитировать данное поведение. Потому большинство страниц попросту недоступны для сканирования поисковыми ботами, поэтому продвижение сайта может быть усложнено.
Неактивный javascript. Некоторые пользователи отключают javascript в своих браузерах, а без него ваше приложение не будет работать.
Низкий уровень безопасности.
JavaScript имеет низкий уровень безопасности, но если использовать современные фреймворки, они могу сделать ваше веб приложение безопасным. Но стоит обратить внимание, что использование jQuery может существенно понизить безопасность вашего проекта.

Одностраничные веб приложения хорошо подходят для разработки динамических платформ, с небольшим объемом данных. Кроме того, если Вам потребуется в будущем построить мобильное приложение, SPA отлично подойдет как основа. Основным недостатком, который сдерживает стремительный рост популярности SPA это плохая SEO оптимизация. Проекты, где SEO имеет важнейший приоритет, стоит использовать MPA.

### Тестирование spa приложений

Тестирование веб-приложений представляет из себя комплексную задачу, которая требует глубоких знаний и опыта, а также владения разнообразными методами тестирования.

Для обеспечения качества разрабатываемых веб-приложений QA команда проводит целый набор всевозможных тестов, включая:

Функциональное тестирование — для проверки того, что система работает в соответствии с заявленными в спецификации требованиям. Тестируют каждый отдельный компонент системы и все компоненты в совокупности, с использованием как автоматизированных, так и ручных тестов, чтобы убедиться в том, что приложение работает корректно.

Юзабилити-тестирование — для проверки удобства пользования интерфейсом веб-приложения. При проведении данного вида тестирования проверяется навигация, а также эргономичность и информативность пользовательского интерфейса.

Кроссбраузерное тестирование и мультиплатформенное тестирование — для проверки работы веб-приложения в различных браузерах и на разных платформах. Проверяют, насколько хорошо выполнена верстка веб-приложения и работают совместно с заказчиком над исключением любых дефектов верстки.

Нагрузочное и стресс-тестирование — для проверки производительности и стабильности работы веб-приложения при увеличенных нагрузках на систему и в обычных условиях.

## Что такое PWA

PWA или Progressive Web Application – технология, которая позволяет клиентам установить сайт на смартфон как приложение. На русский язык переводиться как «прогрессивное веб-приложение».

Для начала стоит заметить, что нет точного определения PWA приложения. Нельзя четко сказать, вот этот сайт PWA или нет. Это протяженная шкала, на которой могут располагаться и «хоумпейдж» второкурсника Пети, который добавил web app манифест, создающий иконку сайта на домашнем экране мобильника; и внешне ничем не отличимый от обычного новостной сайт, только пользователи которого могут сказать, что он удивительно быстрый и удобный, а всё потому что где-то внутри него бьется горячее сердце работника сферы услуг (service worker'a).
Относительность PWA заложена в самом названии — «прогрессивное». Прогрессивный сравнительно с чем и в какой мере? Но эта относительность, на самом деле, очень хороша, потому что изучать технологии PWA и применять их в своих текущих проектах можно постепенно, без глобального ремоделинга и рефакторинга.

С другой стороны, идея у PWA есть, и идея достаточно четкая и мощная. И то, как неспешно она разворачивается, вполне может свидетельствовать о масштабности последствий.


Архитектура PWA

PWA — это веб приложение, созданное с использованием определенных технологий для достижения заданных целевых показателей.
Целевые показатели расшифровываются следующим образом:

Надежность (Reliable) — приложение загружается и показывается сразу же, вне зависимости от статуса и качества сетевого соединения.
Быстрота (Fast) — взаимообмен данными по сети происходит быстро, UI плавный и отзывчивый.
Привлекательность (Engaging) — делает для пользователя опыт работы с приложением комфортным и приятным, побуждая его захотеть пережить его снова, и снова, и снова…

С точки зрения Google, именно это отделяет сейчас по внешнему виду и ощущениями (look and feel) веб-сайты от нативных приложений.

Другими словами, разработчику предлагаются инструменты (Service Worker, Push Notifications и др.) и указываются цели (сайт/приложение должен быть быстрым в загрузке, работать на слабом коннекте, не «лагать», работать оффлайн при необходимости). Насколько далеко продвинется по этому пути разработчик зависит только от него.
Технологии

Кратко рассмотрим основные движители PWA.

Service Worker

Сердце PWA — Service Worker. Это проксирующий слой между фронтэндом и бэкэндом, находящийся в браузере. Все запросы браузера идут через него. Данное разделение на два независимых слоя позволило сделать переход обычного веб сайта в PWA максимально простым.

Из хранилищ у Service Worker'a есть доступ к Cache Storage для web ресурсов, и IndexDB для данных. Но, самое главное, полная свобода для реализации бизнес логики.

Можно, например, принять запрос от браузера, проверить состояние сети, взять данные из хранилища, произвести с ними операции и вернуть некий результат обратно в браузер — который будет думать, что ответ ему пришел от сервера. Или не будет — как разработчик захочет, так и сделает. Два браузерных слоя (клиентский фронтэнд и Service Worker) позволяют писать полноценные приложения.

В тоже время, для большинства сайтов будет достаточно КЭШИРУЮЩЕЙ ФУНКЦИОНАЛЬНОСТИ Service Worker'a, чтобы превратиться в PWA.

PWA не зависит ни от каких-то фреймворков, это чистый javascript, хотя даже специалисты Google на Хабре зачем-то советуют использовать библиотечные генераторы кода. Service Worker прекрасно пишется руками, и это нужно, чтобы хорошо понимать и контролировать логику работы твоего приложения.

С программистской точки зрения Service Worker представляет собой javascript файл, подключаемый в html коде страницы. В нем разработчик определяет логику работы с приходящими из фронтэнда запросами и другую функциональность.

HTTPS

PWA требует, чтобы все ресурсы сайта передавались по HTTPS протоколу. SSL сертификат можно получить бесплатно, некоторые хостеры это делают за вас. Но критично, чтобы на сайте не было ссылок на незащищенные ресурсы — некоторые браузеры просто не будут отображать сайт в этом случае.

Основная встречаемая в таких случаях проблема — картинки. Часто редакторы или комментаторы ставят в материал ссылки на картинки из интернета, иногда они автоматически туда (в материал) попадают. Необходимо картинки пересохранять или к себе, или на сервис с доступом по HTTPS.

Application Shell

App shell — это просто скелет графического интерфейса, шаблон. Для примера, возьмем средний сайт c хидером, двумя колонками и прочим. Грубо говоря, вырежем из него контент текущей страницы и всю динамическую информацию, оставшаяся статика — app shell.

Суть в том, что app shell хранится на клиенте и загружается при запуске приложения, а затем уже в него грузится из сети динамическая информация. И пока она грузится, app shell должен выглядеть красиво («лоадеры» на местах и т.п.)

Данную архитектуру сайта — загрузку контента и иной динамичной информации через ajax вызовы — можно продумать и реализовать на сайте заранее, тогда переход в PWA будет совсем несложным.

App shell — это как оболочка нативной программы. Смотрите на свое PWA как на нативную программу, и многое станет проще.

Web App manifest (application manifest )

JSON файл, декларативно определяющий для браузера название приложения, иконку, как будет выглядеть PWA (fullscreen, standalone и др.) и некоторые другие параметры. Позволяет «установить» PWA как отдельное приложение на домашний экран смартфона.

Push Notifications (push-уведомления)

Если посерфить интернет с Chrome DevTools, открытым на вкладке Application, то можно увидеть, как мало сайтов пользуют PWA технологии. А 90% тех, что пользуют, делают это только ради Push Notifications.

Пока что это самая популярная и самая злоупотребляемая технология PWA — за последние несколько месяцев число сайтов, заходя на которые первым делом ищешь «мышкой» кнопку «Блокировать» на предложение получать самые свежие новости, выросло, такое ощущение, многократно, а само желание навязать свой Push похоже на Spam.

А ведь можно же предлагать подписку на второй или третий заход пользователя на сайт, когда уже понятно, что он тут не случайно.


### Преимущества приложения на базе PWA

Позволяет отправлять Push-уведомления.
Разработка и поддержка на 70% дешевле, чем у мобильных приложений.
Экономия на повторном привлечении клиента, так как нет расходов на инструменты возвращения клиента (ретаргетинг, ремаркетинг).
Не нужно размещать приложение в AppStore и Google Play. Его можно скачать напрямую с вашего сайта.
Работает быстрее чем сайт.
Работает без интернета.
Может работать в фоновом режиме.
Наличие манифеста в приложении.
PWA также позволяют добавить к приложению ярлык, который появится на экране или на рабочем столе и упростит повторное использование пользователем.
Размер PWA приложения, как правило, не превышает 1 мб. Это меньше, чем мобильное приложение.
PWA приложение работает с функциями: геолокация, камера, микрофон.

### Недостатки PWA приложения:

На момент написания статьи у PWA приложение нет возможности отправлять уведомления на iPhone, так как в iOS браузер по умолчанию Safari. Однако в iOS 14 Apple добавила функцию выбора браузера по умолчанию. Это означает, что если пользователь выберет стандартным браузером не Safari, то уведомления можно будет отправлять и на iPhone.
Также PWA приложения не поддерживают функцию Touch ID и ограниченно работают с функцией Bluetooth.

## Тестирование PWA

При тестировании прогрессивного веб-приложения необходимо проверить следующие моменты:

1. Сайт обслуживается по HTTPS: Безопасность является одной из основных проблем в прогрессивном веб-приложении, поэтому вам необходимо убедиться, что ваше веб-приложение обслуживается по HTTPS.
Как проверить? Вы можете использовать Lighthouse от Google Developers, jitbit, seositecheckup, digicert, ssl shopper, ssl labs и т.д., чтобы проверить, обслуживается ли ваш сайт по HTTPS или нет.

2. Веб-страницы отзывчивы: Убедитесь, что ваше веб-приложение демонстрирует отзывчивое поведение на всех мобильных и настольных устройствах.
Как проверить? Вы можете использовать функцию отзывчивости LambdaTest для проверки отзывчивости вашего веб-приложения.

3. Автономная загрузка: Все ваши веб-страницы или хотя бы некоторые из них должны работать, даже когда ваше приложение находится в автономном режиме. Вам необходимо убедиться, что ваше веб-приложение отвечает сообщением 200, когда оно находится в автономном режиме.
Как проверить? Опять же, поскольку Google активно продвигает экосистему PWA, у них есть одни из лучших инструментов для тестирования PWA-приложений. Например, Lighthouse. Альтернативой является Wiremock.

4. Кросс-браузерная совместимость: Вам необходимо протестировать ваше веб-приложение на кросс-браузерную совместимость, чтобы убедиться, что ваше веб-приложение обеспечивает удобство работы во всех браузерах.
Как протестировать? Вы можете использовать LambdaTest для тестирования кросс-браузерной совместимости.

5. Метаданные для ‘Add to Homescreen’: Вам необходимо проверить, предоставляет ли веб-приложение метаданные для ‘Add to Homescreen’.
Как проверить? Вы можете использовать Lighthouse для проверки метаданных для ‘Add to Homescreen’.

6. Переходы между страницами должны быть плавными и не должны вызывать ощущения, что они блокируют сеть: Переходы являются ключевым фактором для восприятия производительности, поэтому они не должны быть плавными при перемещении, даже при медленном интернет-соединении.
Как проверить? Это следует делать вручную в медленной сети. Когда вы нажимаете на любую кнопку или ссылку, она должна немедленно реагировать либо немедленным переходом на экран гнезда и в ожидании показывать экран загрузки, либо индикатором загрузки, пока приложение не дождется ответа.

7. Каждая страница должна иметь URL: Каждая страница вашего веб-приложения должна иметь URL, и все URL должны быть уникальными.
Как проверить? Проверьте, что на каждую страницу можно перейти по URL, и он должен быть уникальным, чтобы им можно было поделиться в социальных сетях или на других платформах. URL также можно открывать непосредственно в новых браузерах.

8. Возможность совместного использования: Контентом должно быть легко поделиться даже в полноэкранном режиме, и он должен формировать карточки для всех платформ социальных сетей.
Как протестировать? Протестируйте вручную, поделившись контентом в полноэкранном режиме. Тест для карточек может быть выполнен следующим образом:

Facebook: Отладьте URL, введя пост, которым нужно поделиться, и проверьте, были ли сформированы карточки или нет. 

Twitter: Проверьте, добавлен ли тип карточки для вашего контента в HEAD страницы HTML.

9. Наличие метаданных Schema.org везде, где это необходимо: Ваш веб-приложение должно уметь создавать богатые карточки, если это необходимо. Это помогает улучшить отображение вашего сайта различными поисковыми системами.
Как проверить? Вы можете использовать структурированные данные Google, чтобы убедиться в наличии или отсутствии изображений, описаний, заголовков и т.д.

10. Push-уведомления: Если push-уведомления применимы для вашего веб-приложения, они не должны быть слишком агрессивными.
Как протестировать? Протестируйте поток отказа от push-уведомлений. Должна быть четкая инструкция, указывающая, для чего сайт хочет получить разрешение и почему пользователь должен включить push-уведомления.

Как LambdaTest может помочь в тестировании прогрессивного веб-приложения?
Прогрессивные веб-приложения должны быть отзывчивыми, совместимыми с браузерами и добавляться на домашний экран. Как вы можете убедиться, что ваше веб-приложение соответствует этим критериям или нет?

На помощь вам придут рабочие столы, эмуляторы и симуляторы реального времени LambdaTest, с помощью которых вы сможете проверить, соответствует ли разработанное веб-приложение этим критериям. Следующий вопрос — как? Ну, LambdaTest предоставляет вам более 3000+ мобильных и настольных компьютеров, на которых вы можете проверить это.

Добавление на рабочий стол или добавление на домашний экран можно проверить, показывает ли веб-приложение при добавлении ожидаемое поведение или нет для данного мобильного или рабочего стола?

Проявляет ли веб-приложение отзывчивое поведение для каждого мобильного или настольного компьютера?

Совместимо ли веб-приложение со всеми доступными браузерами и версиями браузеров?

### Как вы можете распознать PWA?

Наличие push-уведомлений.
Работает без интернета.
Может работать в фоновом режиме.
Наличие манифеста в приложении.
PWA также позволяют добавить к приложению ярлык, который появится на экране или на рабочем столе и упростит повторное использование пользователем.
Поддержка HTTPS.

## MPA или SPA

Каждая архитектура имеет свои преимущества и недостатки и хорошо подходит для определенного типа проекта. SPA отличается своей скоростью и возможностью на базе готового кода разработать мобильное приложение. Но в тоже время, SPA имеет плохую SEO оптимизацию. Таким образом данная архитектура отлично подход для SaaS платформ, социальных сетей, закрытых сообществ, где поисковая оптимизация не имеет значения.

MPA больше подходит для создания крупных интернет магазинов, бизнес сайтов, каталогов, маркетплейсов и т.п. Хорошо оптимизированная MPA имеет высокую скорость и производительность, но все же не позволяет легко разработать мобильное приложение. MPA и SPA с правильной архитектурой хорошо подходят для разработки масштабируемых веб приложений.

## В чем разница между SPA и PWA? 

Оба подхода являются относительно новыми и несколько революционными. Они оба позволяют вам создать веб-сайт, который является более сложным и имеет внешний вид родного приложения. Так чем же они отличаются друг от друга?

Скорость
Время загрузки — чрезвычайно важный параметр. Современные пользователи не хотят ждать дольше, чем необходимо, поэтому в этой битве каждая секунда на счету. С точки зрения скорости PWA и SPA очень похожи; однако в этой дуэли PWA выходит на первое место. Он немного быстрее и, кроме того, может работать в автономном режиме.

Время и затраты
Огромным преимуществом SPA является оптимизированный процесс, что приводит к относительно короткому времени разработки — меньшему, чем в случае с PWA. Кроме того, SPA предполагает более низкие затраты на разработку.

Пользовательский опыт
PWA обеспечивает большую вовлеченность и надежность (даже в автономном режиме и в случае плохого подключения к Интернету), предлагает более высокую производительность и имеет возможность почти мгновенно загружать контент и доступные функции. Это приводит к лучшему пользовательскому опыту, что является одной из причин, по которой многие компании решили преобразовать свои SPA в PWA.

Безопасность
PWA должен работать по протоколу HTTPS, что обеспечивает высокий стандарт безопасности. Если вы думаете о приложении, которое потребует от пользователей предоставления личных данных или информации о кредитной карте, выберите PWA.

Доступность
Опять же, победителем здесь является PWA, потому что он может работать как онлайн, так и офлайн. PWA также позволяют добавить к приложению ярлык, который появится на экране или на рабочем столе и упростит повторное использование пользователем.  

## Примеры MPA

https://www.citilink.ru/
mvideo.ru
https://www.amazon.com/

## Примеры SPA

Sthmamd.org
departures-international.com
onepagelove.com

## Примеры PWA

dev.to
Facebook.com
flipboard.com